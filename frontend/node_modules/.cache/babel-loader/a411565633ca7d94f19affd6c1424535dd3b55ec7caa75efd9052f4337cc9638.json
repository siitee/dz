{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\murof\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\react\\\\frontend\\\\src\\\\components\\\\Product.jsx\";\nimport React from 'react';\nimport './Product.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Product({\n  id,\n  image,\n  title,\n  price,\n  setBasket,\n  setBasketPrice,\n  setBasketQty,\n  basket,\n  setMessage,\n  setModalBox,\n  token\n}) {\n  const product = {\n    id: id,\n    image: image,\n    title: title,\n    price: price\n  };\n  function addToBasket() {\n    const index = basket.findIndex(value => value.id === product.id);\n    if (index === -1) {\n      setBasket(prevState => [...prevState, product]);\n      setBasketPrice(current => current + product.price);\n      setBasketQty(current => current + 1);\n    } else {\n      return;\n    }\n    setTimeout(() => {\n      setMessage('Товар добавлен в корзину.');\n      setModalBox('MessageBox');\n    }, 100);\n  }\n  function AddToBasketButton() {\n    if (token !== null) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"buy\",\n          onClick: () => addToBasket(),\n          children: \"\\u041A\\u0443\\u043F\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }, this)\n      }, void 0, false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Product\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: product.image,\n      alt: \"#\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: product.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [product.price, \" \\u0440\\u0443\\u0431\\u043B\\u0435\\u0439\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(AddToBasketButton, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 5\n  }, this);\n}\n_c = Product;\nexport default Product;\nvar _c;\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Fragment","_Fragment","Product","id","image","title","price","setBasket","setBasketPrice","setBasketQty","basket","setMessage","setModalBox","token","product","addToBasket","index","findIndex","value","prevState","current","setTimeout","AddToBasketButton","children","className","onClick","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","_c","$RefreshReg$"],"sources":["C:/Users/murof/OneDrive/Рабочий стол/react/frontend/src/components/Product.jsx"],"sourcesContent":["import React from 'react';\nimport './Product.css';\n\nfunction Product({ id, image, title, price, setBasket, setBasketPrice, setBasketQty, basket, setMessage, setModalBox, token }) {\n\n  const product = {\n    id: id,\n    image: image,\n    title: title,\n    price: price\n  }\n\n  function addToBasket() {\n    const index = basket.findIndex(value => value.id === product.id)\n\n    if (index === -1) {\n      setBasket(prevState => [...prevState, product])\n      setBasketPrice(current => current + product.price)\n      setBasketQty(current => current + 1)\n    } else {\n      return\n    }\n\n    setTimeout(() => {\n      setMessage('Товар добавлен в корзину.')\n      setModalBox('MessageBox')\n    }, 100)\n  }\n\n  function AddToBasketButton() {\n    if (token !== null) {\n      return (\n        <>\n          <button className='buy' onClick={() => addToBasket()}>Купить</button>\n        </>\n      )\n    }\n  }\n\n  return (\n    <div className=\"Product\">\n      <img src={product.image} alt='#' />\n      <h1>{product.title}</h1>\n      <p>{product.price} рублей</p>\n      <AddToBasketButton />\n    </div>\n  );\n}\n\nexport default Product;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEvB,SAASC,OAAOA,CAAC;EAAEC,EAAE;EAAEC,KAAK;EAAEC,KAAK;EAAEC,KAAK;EAAEC,SAAS;EAAEC,cAAc;EAAEC,YAAY;EAAEC,MAAM;EAAEC,UAAU;EAAEC,WAAW;EAAEC;AAAM,CAAC,EAAE;EAE7H,MAAMC,OAAO,GAAG;IACdX,EAAE,EAAEA,EAAE;IACNC,KAAK,EAAEA,KAAK;IACZC,KAAK,EAAEA,KAAK;IACZC,KAAK,EAAEA;EACT,CAAC;EAED,SAASS,WAAWA,CAAA,EAAG;IACrB,MAAMC,KAAK,GAAGN,MAAM,CAACO,SAAS,CAACC,KAAK,IAAIA,KAAK,CAACf,EAAE,KAAKW,OAAO,CAACX,EAAE,CAAC;IAEhE,IAAIa,KAAK,KAAK,CAAC,CAAC,EAAE;MAChBT,SAAS,CAACY,SAAS,IAAI,CAAC,GAAGA,SAAS,EAAEL,OAAO,CAAC,CAAC;MAC/CN,cAAc,CAACY,OAAO,IAAIA,OAAO,GAAGN,OAAO,CAACR,KAAK,CAAC;MAClDG,YAAY,CAACW,OAAO,IAAIA,OAAO,GAAG,CAAC,CAAC;IACtC,CAAC,MAAM;MACL;IACF;IAEAC,UAAU,CAAC,MAAM;MACfV,UAAU,CAAC,2BAA2B,CAAC;MACvCC,WAAW,CAAC,YAAY,CAAC;IAC3B,CAAC,EAAE,GAAG,CAAC;EACT;EAEA,SAASU,iBAAiBA,CAAA,EAAG;IAC3B,IAAIT,KAAK,KAAK,IAAI,EAAE;MAClB,oBACEd,OAAA,CAAAE,SAAA;QAAAsB,QAAA,eACExB,OAAA;UAAQyB,SAAS,EAAC,KAAK;UAACC,OAAO,EAAEA,CAAA,KAAMV,WAAW,CAAC,CAAE;UAAAQ,QAAA,EAAC;QAAM;UAAAG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ;MAAC,gBACrE,CAAC;IAEP;EACF;EAEA,oBACE9B,OAAA;IAAKyB,SAAS,EAAC,SAAS;IAAAD,QAAA,gBACtBxB,OAAA;MAAK+B,GAAG,EAAEhB,OAAO,CAACV,KAAM;MAAC2B,GAAG,EAAC;IAAG;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACnC9B,OAAA;MAAAwB,QAAA,EAAKT,OAAO,CAACT;IAAK;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACxB9B,OAAA;MAAAwB,QAAA,GAAIT,OAAO,CAACR,KAAK,EAAC,uCAAO;IAAA;MAAAoB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,eAC7B9B,OAAA,CAACuB,iBAAiB;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAClB,CAAC;AAEV;AAACG,EAAA,GA5CQ9B,OAAO;AA8ChB,eAAeA,OAAO;AAAC,IAAA8B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}