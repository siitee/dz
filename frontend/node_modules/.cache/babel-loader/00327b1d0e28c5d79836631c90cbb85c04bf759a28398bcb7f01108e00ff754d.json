{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\murof\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\react\\\\frontend\\\\src\\\\components\\\\Login.js\";\nimport React from 'react';\nimport './Login.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  setModalBox,\n  setToken,\n  setMessage\n}) {\n  function Log() {\n    const login = document.getElementById('login').value;\n    const password = document.getElementById('pass').value;\n    const validLogin = login.match(/.+$/i);\n    let message;\n    if (!validLogin || password.length === 0) {\n      document.getElementById('loginError').innerText = \"Вы ввели данные неправильно!\";\n      return;\n    }\n    const data = {\n      login: login,\n      password: password\n    };\n\n    // console.debug(data)\n\n    const api = 'http://127.0.0.1:9001/login';\n    fetch(api, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    }).then(result => result.json()).then(result => {\n      message = result.message;\n      if (result.token !== undefined) {\n        localStorage.setItem('token', result.token);\n        setToken(result.token);\n      }\n    });\n    setTimeout(() => {\n      setMessage(message);\n      setModalBox('MessageBox');\n    }, 100);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u041B\\u043E\\u0433\\u0438\\u043D:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"login\",\n      placeholder: \"\\u041B\\u043E\\u0433\\u0438\\u043D\",\n      type: \"text\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      id: \"pass\",\n      placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n      type: \"password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      id: \"send\",\n      onClick: () => Log(),\n      children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      id: \"loginError\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","Login","setModalBox","setToken","setMessage","Log","login","document","getElementById","value","password","validLogin","match","message","length","innerText","data","api","fetch","method","headers","body","JSON","stringify","then","result","json","token","undefined","localStorage","setItem","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","id","placeholder","type","onClick","_c","$RefreshReg$"],"sources":["C:/Users/murof/OneDrive/Рабочий стол/react/frontend/src/components/Login.js"],"sourcesContent":["import React from 'react';\nimport './Login.css';\n\nfunction Login({ setModalBox, setToken, setMessage }) {\n\n  function Log() {\n    const login = document.getElementById('login').value\n    const password = document.getElementById('pass').value\n\n    const validLogin = login.match(/.+$/i)\n\n    let message\n\n    if (!validLogin || password.length === 0) {\n      document.getElementById('loginError').innerText = \"Вы ввели данные неправильно!\"\n      return\n    }\n\n    const data = {\n      login: login,\n      password: password\n    }\n\n    // console.debug(data)\n\n    const api = 'http://127.0.0.1:9001/login'\n\n    fetch(api, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    })\n      .then((result) => result.json())\n      .then((result) => {\n        message = result.message\n        if (result.token !== undefined) {\n          localStorage.setItem('token', result.token)\n          setToken(result.token)\n        }\n      })\n\n    setTimeout(() => {\n      setMessage(message)\n      setModalBox('MessageBox')\n    }, 100)\n  }\n\n  return (\n    <div className=\"Login\">\n      <h1>Логин:</h1>\n      <input id='login' placeholder='Логин' type='text' />\n      <input id='pass' placeholder='Пароль' type='password' />\n      <button id='send' onClick={() => Log()}>Войти</button>\n      <p id='loginError'></p>\n    </div>\n  );\n}\n\nexport default Login;"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAO,aAAa;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErB,SAASC,KAAKA,CAAC;EAAEC,WAAW;EAAEC,QAAQ;EAAEC;AAAW,CAAC,EAAE;EAEpD,SAASC,GAAGA,CAAA,EAAG;IACb,MAAMC,KAAK,GAAGC,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,KAAK;IACpD,MAAMC,QAAQ,GAAGH,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC,CAACC,KAAK;IAEtD,MAAME,UAAU,GAAGL,KAAK,CAACM,KAAK,CAAC,MAAM,CAAC;IAEtC,IAAIC,OAAO;IAEX,IAAI,CAACF,UAAU,IAAID,QAAQ,CAACI,MAAM,KAAK,CAAC,EAAE;MACxCP,QAAQ,CAACC,cAAc,CAAC,YAAY,CAAC,CAACO,SAAS,GAAG,8BAA8B;MAChF;IACF;IAEA,MAAMC,IAAI,GAAG;MACXV,KAAK,EAAEA,KAAK;MACZI,QAAQ,EAAEA;IACZ,CAAC;;IAED;;IAEA,MAAMO,GAAG,GAAG,6BAA6B;IAEzCC,KAAK,CAACD,GAAG,EAAE;MACTE,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,cAAc,EAAE;MAClB,CAAC;MACDC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAACP,IAAI;IAC3B,CAAC,CAAC,CACCQ,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACC,IAAI,CAAC,CAAC,CAAC,CAC/BF,IAAI,CAAEC,MAAM,IAAK;MAChBZ,OAAO,GAAGY,MAAM,CAACZ,OAAO;MACxB,IAAIY,MAAM,CAACE,KAAK,KAAKC,SAAS,EAAE;QAC9BC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,MAAM,CAACE,KAAK,CAAC;QAC3CxB,QAAQ,CAACsB,MAAM,CAACE,KAAK,CAAC;MACxB;IACF,CAAC,CAAC;IAEJI,UAAU,CAAC,MAAM;MACf3B,UAAU,CAACS,OAAO,CAAC;MACnBX,WAAW,CAAC,YAAY,CAAC;IAC3B,CAAC,EAAE,GAAG,CAAC;EACT;EAEA,oBACEF,OAAA;IAAKgC,SAAS,EAAC,OAAO;IAAAC,QAAA,gBACpBjC,OAAA;MAAAiC,QAAA,EAAI;IAAM;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACfrC,OAAA;MAAOsC,EAAE,EAAC,OAAO;MAACC,WAAW,EAAC,gCAAO;MAACC,IAAI,EAAC;IAAM;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACpDrC,OAAA;MAAOsC,EAAE,EAAC,MAAM;MAACC,WAAW,EAAC,sCAAQ;MAACC,IAAI,EAAC;IAAU;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACxDrC,OAAA;MAAQsC,EAAE,EAAC,MAAM;MAACG,OAAO,EAAEA,CAAA,KAAMpC,GAAG,CAAC,CAAE;MAAA4B,QAAA,EAAC;IAAK;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACtDrC,OAAA;MAAGsC,EAAE,EAAC;IAAY;MAAAJ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACpB,CAAC;AAEV;AAACK,EAAA,GAvDQzC,KAAK;AAyDd,eAAeA,KAAK;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}